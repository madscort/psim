### Report outline

Preface
Abstract

-Introduction
Phage satellites.
Why they are important
Where we stand now
The data behind this project

>Project scope
1. Merge the data
2. Build a training dataset
3. Create models
4. Test it on real data
5. Enterpret the results

-Theoretical background / Introduction

>Phage satellites
	Type of MGE
	Lifestyle
	Genetic building blocks
	Types of phage satellites in dataset
		Can you define a phage satellite

>Dark areas in bioinformatics
	Less information on viral genes, structure etc. (the reason for enrichment)
	Something on hidden markov models and profiles
		Why using profile instead of sequence search
	Something on mmseqs maybe - speed in metagenomics

>Machine learning / Deep learning
Why is this even meaningful for this project.

Two different model types:
CNN - deeper unknown structures

Transformer - sequence of features

(Super optional: Pre-trained DNA-sequence model)

-Materials and methods

>Pre processing dataset
	
	The databases
		How they were created
		Description of the different class labels

	* PLOT pre processing overview

	Dataset creation
		Phage satellite database merge
			Overlap
			Homology reduction
		Prophage sequences
		Host sequences
		Random metagenomic data

>Modelling on dataset

	Baseline model

	Neural networks
		General modelling setup

		CNN model
			One hot encoding
			Hyperparameter and architecture tuning
		
		Transformer model
			Creation of marker gene database
				pfam only full
				de-novo hmms for satellites
				hhblits for enrichment for satellites
				satellites only
			Embedding layer

>Inference on real data
	How inference is done:
		Sliding window
	Data from different projects
		Difference between:
			body location
			environment sludge, water, etc.
			time period

-Results

>Input database
	*Plot Homology reduction
	*Plot Host diversity
	*Sequence lengths, gene counts
	*Show somehow the homology within groups and opposite between groups

>Modelling
	Tuning and design
		Architecture search
		Model comparison on different versions of the dataset
			Primary - only random metagenomics and random viral genes
				How to tell this story? Baseline too good. Increase homology reduction, increase viral samples
			First improvement - random metagenomics and prohages from same host
			Second improvement - random metagenomics, host sequences and prophages same host
		Score distribution - correct and wrong label calls
		Score distribution pr. label

	
	Validation: Kfold cross-validation
		(Only final models - ie. best architecture for each of them (4).)
		5-fold cross validation AUC with shade.

	Interpretation: Feature contributions to predictions
		CNN: absolute values of integradet gradients. 


>Inference
	Diversity - how many different host species. (can you use alpha/beta diversity?)
	(Super optional: Abundance - dont think this is possible. would need to map back etc.)

-Discussion

>Preprocessing
Database creation
	Was the data actually usable? Gigantic overlap.
	When using results of algorithmic search - will we just learn the algorithms?
	What are the limitations of creating your own dataset?

>Modelling

Choice of model types:
	
	Couldnt we just have taken a conventional approach? not scope of project

	Investigation into the use of structural information
		-> alphafold, colabfold, using pre-trained ESM model for embeddings on proteins (contains structural information).

	CNN should be able to tak input learn something from a wide area and reduce the information step by step. Ie. kmers etc etc.
	CNN should find something that is stable in the sequence, ie. attachment site - motif - or something similar - something that is in between genes.
	The transformer model should find something different - something that is related to the function and order of the genes.
 
Does the models actually learn anything?
	Machine learning models cannot learn something that it hasnt been shown.

	We train on one thing - do inference on another thing
		Satellites are small 2-25kb contigs are small 100b and huge 600kb

Try to explain why you can have the CNN do precise prediction on some reference genomes (e coli) and not on others (kocuria palustris)

>Inference
Is the output from the real-data experiments meaningful?


-Conclusion
